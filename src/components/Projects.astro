---
/**
 * Projects Section Component
 *
 * Displays header card with description and GitHub CTA, followed by a grid of project cards.
 * Header background image switches based on dark/light mode.
 */
import { Github } from 'lucide-astro';
import { ICON_SIZES } from '../constants/ui';
import projectHeaderDark from '../assets/project-header-dark.webp';
import projectHeaderLight from '../assets/project-header.webp';
import raspberryPi from '../assets/raspberry-pi-alt.webp';
import projectsData from '../data/projects.json';
import type { Project } from '../types';
import Card from './Card.astro';

const projects = projectsData as Project[];
---

<section id="projects-section" class="container mx-auto px-6 py-12">
    <!-- Header Card -->
    <div class="header-card project-header flex rounded-header overflow-hidden flex-col md:flex-row mb-12">
        <!-- Background Images -->
        <div class="project-header-light absolute inset-0 bg-cover bg-center dark:opacity-0 transition-opacity duration-300"></div>
        <div class="project-header-dark absolute inset-0 bg-cover bg-center opacity-0 dark:opacity-100 transition-opacity duration-300"></div>

        <!-- Description -->
        <div class="description relative z-10 flex-[2] px-6 py-8 md:px-12 md:py-12">
            <h1 class="text-4xl font-bold mb-4">Projects</h1>
            <p class="text-lg mb-6">
                I am a robotics enthusiast and a native Android developer (Kotlin, Java) with experience in modern architectural components and MVVM design pattern. I have developed several mobile applications to communicate with IoT devices via Bluetooth, BLE, HTTP and MQTT protocols. I also have experience in design and deployment of Machine Learning based solutions for IoT devices.
            </p>
            <a
                href="https://github.com/atick-faisal/"
                class="btn btn-dark inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-text-light dark:bg-text-dark text-bg-light dark:text-bg-dark hover:opacity-90 transition-opacity"
            >
                <Github class="icon" size={ICON_SIZES.MD} />
                <span>Explore on GitHub</span>
            </a>
        </div>

        <!-- Image -->
        <div class="relative z-10 flex-1 flex items-center justify-center">
            <img
                class="image w-full max-w-full h-auto"
                alt="Raspberry Pi"
                src={raspberryPi.src}
            />
        </div>
    </div>

    <!-- Projects Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {projects.map((project) => (
            <Card item={project} type="project" />
        ))}
    </div>
</section>

<style define:vars={{ projectHeaderLight: `url(${projectHeaderLight.src})`, projectHeaderDark: `url(${projectHeaderDark.src})` }}>
    .header-card {
        position: relative;
        background-size: cover;
        background-position: center;
    }

    .project-header-light {
        background-image: var(--projectHeaderLight);
    }

    .project-header-dark {
        background-image: var(--projectHeaderDark);
    }
</style>
